# encoding: utf-8
patch:
  # å¼•å…¥EasyEn
  __include: easy_en:/patch
  # å…³é—­EasyENé€ å¥åŠŸèƒ½
  'easy_en/enable_sentence': false
  schema:
    name: æ˜æœˆæ‹¼éŸ³-ç®€åŒ–å­—
  'translator/dictionary': custom_dict.all
  'speller/algebra': 
    - erase/^xx$/
    - derive/^([zcs])h/$1/ # zh, ch, sh => z, c, s
    - derive/^([zcs])([^h])/$1h$2/ # z, c, s => zh, ch, sh
    - derive/([aei])n$/$1ng/ # en => eng, in => ing
    - derive/([aei])ng$/$1n/ # eng => en, ing => in
    - derive/([iu])an$/$lang/ # ian => iang, uan => uang
    - derive/([iu])ang$/$lan/ # iang => ian, uang => uan
    - derive/([aeiou])ng$/$1gn/        # dagn => dang
    - derive/([dtngkhrzcs])o(u|ng)$/$1o/  # zho => zhong|zhou
    - derive/ong$/on/                  # zhonguo => zhong guo
    - derive/ao$/oa/                   # hoa => hao
    - derive/([iu])a(o|ng?)$/a$1$2/    # tain => tian
    - abbrev/^([a-z]).+$/$1/ #ç®€æ‹¼ï¼ˆé¦–å­—æ¯ï¼‰
    - abbrev/^([zcs]h).+$/$1/ #ç®€æ‹¼ï¼ˆzh, ch, shï¼‰
  switches:
    - name: ascii_mode
      reset: 0
      states: [ ä¸­æ–‡, è‹±æ–‡ ]
    - name: emoji_suggestion
      reset: 0
      states: [ "ğŸ˜£ï¸","ğŸ˜ï¸"]
    - name: full_shape
      states: [ åŠè§’, å…¨è§’ ]
    - name: simplification
      reset: 1
      states: [ ç¹ä½“, ç®€ä½“ ]
    - name: ascii_punct
      states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]
  engine/translators:
    - lua_translator@date_translator
    - lua_translator@time_translator
    - lua_translator@week_translator
    - lua_translator@easy_en_translator
    - punct_translator
    - script_translator
    - table_translator@custom_phrase
  engine/filters:
    - simplifier@emoji_suggestion
    - simplifier@zh_simp # ç®€ä½“
    - simplifier
    - uniquifier
    #- charset_filter@gbk
    #- single_char_filter
  engine/processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  # engine/segmentors:
  #   - ascii_segmentor
  #   - matcher
  #   - abc_segmentor
  #   - punct_segmentor
  #   - fallback_segmentor
  emoji_suggestion:
    opencc_config: emoji.json
    option_name: emoji_suggestion
    # tips: all
  reverse_lookup: {}
  
  punctuator:
    import_preset: symbols
    recognizer/patterns/punct: "^/([0-9]0?|[A-Za-z]+)$"
    # è‡ªå®šä¹‰å¿«æ·ç¬¦å·è¾“å…¥
    symbols:
      "/fs": [Â½, â€°, Â¼, â…“, â…”, Â¾, â…’ ]
    half_shape:
      "#": "#"
      "*": "*"
      '.' : ["ã€‚"]
      "`": "`"
      "~": "~"
      "@": "@"
      "=": "="
      "/": ["/", "Ã·",]
      '\': "ã€"
      "_" : "â”€â”€"
      "'": {pair: ["ã€Œ", "ã€"]}
      "[": ["ã€", "["]
      "]": ["ã€‘", "]"]
      "$": ["Â¥", "$", "â‚¬", "Â£", "Â¢", "Â¤"]
      "<": ["ã€Š", "ã€ˆ", "Â«", "<"]
      ">": ["ã€‹", "ã€‰", "Â»", ">"]
